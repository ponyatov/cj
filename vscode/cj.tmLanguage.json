{
    "version": "0.0.1",
    "scopeName": "source.cj",
    "fileTypes": [".cj"],
    "information_for_contributors": [
        "light Cangjie syntax"
    ],
    "patterns": [
        {"include": "#comment"},
        {"include": "#keyword"},
        {"include": "#type"},
        {"include": "#var"},
        {"include": "#expression"}
    ],
    "repository": {
        "comment": {
            "name": "comment.line.cj",
            "match": "\\s*((//).*)$"
        },
        "keyword": {
            "name": "keyword.control.cj",
            "match": "\\b(println|main)\\b"
        },
        "type": {
            "name": "constant.language.cj",
            "match": "\\b(char|int)\\b"
        },
        "var": {
            "name": "storage.type.cj",
            "match": "\\b(let)\\b"
        },
        "string": {
            "name": "string.quoted.double.cj",
            "begin": "\"",
            "beginCaptures": {
                "0": {"name": "punctuation.definition.string.begin.cj"}
            },
            "end": "\"",
            "endCaptures": {
                "0": {"name": "punctuation.definition.string.end.cj"}
            },
            "patterns": [
                {"include": "#string_escaped_char"}
            ]
        },
        "string_escaped_char": {
            "patterns": [
                {
                    "match": "(?x)\\\\ (\n\\\\\t\t\t |\n[abefnprtv'\"?]   |\n[0-3]\\d{,2}\t |\n[4-7]\\d?\t\t|\nx[a-fA-F0-9]{,2} |\nu[a-fA-F0-9]{,4} |\nU[a-fA-F0-9]{,8} )",
                    "name": "constant.character.escape.cj"
                },
                {
                    "match": "\\\\.",
                    "name": "invalid.illegal.unknown-escape.cj"
                }
            ]
        },
        "expression": {
            "patterns": [
                {"include": "#string"},
                {"include": "#number"},
                {"include": "#paren-expression"},
                {"include": "#quad-expression"}
            ]
        },
        "paren-expression": {
            "name": "expression.group",
            "begin": "\\(",
            "end": "\\)",
            "patterns": [
                {"include": "#type"},
                {"include": "#expression"}
            ]
        },
        "quad-expression": {
            "name": "expression.group",
            "begin": "\\[",
            "end": "\\]",
            "patterns": [
                {"include": "#number"}
            ]
        },
        "number": {
            "name": "constant.numeric.cj",
            "match": "[0-9]+"
        }
    }
}
